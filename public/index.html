<!DOCTYPE html>
<!-- add Angular app -->
<html ng-app='BlogsApp'>
  <head>
    <meta charset="utf-8">
    <title>Blog</title>
   <!--import Angular  -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js" charset="utf-8"></script>
   <!-- import our app.js file -->
   <script src="js/app.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/skeleton.css">
    <link rel="stylesheet" href="css/main.css">
  </head>
  <!-- add our angular contorller -->
   <body ng-controller='MainController as ctrl'>
     <div class="container">
       <h5> {{ ctrl.h5 }} </h5>
       <form ng-submit='ctrl.createBlog()'>
          <input type="text" ng-model='ctrl.createForm.title' placeholder="Blog name">
          <textarea ng-model="ctrl.createForm.text" name="textarea" rows="8" cols="80"></textarea>
          <input type="text" ng-model="ctrl.createForm.tags">
          <input type="submit" value="Create New Blog">
       </form>
       <!-- <table>

         <tr ng-repeat="holiday in ctrl.holidays">
          <td ng-dblclick="ctrl.updateCelebrated( holiday )"
              ng-class="(holiday.celebrated ? 'celebrated' : '' )"
              ng-mouseover="ctrl.chooseOneHoliday( holiday )"
          > {{ holiday.name }} Day</td>
          <td ng-click="ctrl.deleteHoliday(holiday._id)">x</td>
         </tr>
       <table> -->
      <div>
       <div ng-repeat="blog in ctrl.blogs" class="details">
         <h3>{{blog.title}}</h3>
         <hr>
         <p> {{blog.text}}</p>
         <h6> {{ blog.likes }} <span ng-click="ctrl.increaseLikes(blog)"> Like! </span> </h6>
         <h7> {{ blog.tags }}</h7>
         <br>
         <h8> {{blog.createdAt}}</h8>
         <button ng-click="ctrl.deleteBlog(blog._id)">Delete</button>
         <button ng-click="ctrl.editBlogModal(blog)">Edit</button>
       </div>
      </div>
    </div>

    <div class="modal" ng-class="(ctrl.editBlog.modal ? 'edit' : '')">
      <form>
        <div class="row">
          <label for="title">Title</label>
          <input type="text" ng-model="ctrl.editBlog.blog.title" id="title">
          
          <label for="text">Text </label>
          <textarea class="u-full-width" ng-model="ctrl.editBlog.blog.text" id="text"></textarea>
          
          <label for="tags">Tags</label>
          <input type="text" ng-model="ctrl.editBlog.blog.tags"  id="tags">
                    
          <input type="submit" ng-click="ctrl.saveEditBlog(ctrl.editBlog.blog)" value="Update Blog" class="button-primary">
          <button class="button-red" ng-click="ctrl.cancelEditBlog(ctrl.editBlog.blog)"> Don't Update </button>
        </div>
      </form>
    </div>


  </body>
</html>
